<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenWrt ä»“åº“ - Redmi AX6000</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“¦</text></svg>">
    <style>
        :root { --primary: #0066cc; --bg: #f8f9fa; --code-bg: #2d2d2d; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--bg); color: #333; margin: 0; padding: 20px; line-height: 1.6; }
        .container { max-width: 800px; margin: 0 auto; background: #fff; padding: 40px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
        h1 { border-bottom: 2px solid #eee; padding-bottom: 15px; display: flex; align-items: center; gap: 10px; margin-top: 0; }
        .repo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px; margin: 30px 0; }
        .repo-card { background: #fff; border: 1px solid #e1e4e8; padding: 20px; border-radius: 8px; text-align: center; text-decoration: none; color: var(--primary); font-weight: 600; transition: transform 0.2s, box-shadow 0.2s; }
        .repo-card:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-color: var(--primary); }
        
        .code-block { background: var(--code-bg); color: #f8f8f2; padding: 20px; border-radius: 8px; overflow-x: auto; margin: 15px 0; font-family: 'SFMono-Regular', Consolas, monospace; font-size: 0.9rem; position: relative; }
        .note { background: #e7f5ff; border-left: 4px solid var(--primary); padding: 15px; margin: 20px 0; border-radius: 0 4px 4px 0; }
        
        footer { text-align: center; margin-top: 40px; color: #666; font-size: 0.85rem; }
    </style>
    <script>
    (function() {
        // configuration
        const GITHUB_USER = 'Ye-Ethan'; // æ›¿æ¢ä½ çš„ GitHub ç”¨æˆ·å
        const GITHUB_REPO = 'opwnwrt-opkg-source';       // æ›¿æ¢ä½ çš„ä»“åº“å (ä¾‹å¦‚ opkg-repo)
        
        // æ ¼å¼åŒ–æ—¥æœŸçš„å‡½æ•° (YYYY-MM-DD HH:mm)
        function formatDate(isoString) {
            const date = new Date(isoString);
            const pad = (n) => n.toString().padStart(2, '0');
            return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())} ${pad(date.getHours())}:${pad(date.getMinutes())}`;
        }

        // è·å–æœ€è¿‘ä¸€æ¬¡ Commit ä¿¡æ¯
        fetch(`https://api.github.com/repos/${GITHUB_USER}/${GITHUB_REPO}/commits?per_page=1`)
            .then(response => {
                if (!response.ok) throw new Error('Network response was not ok');
                return response.json();
            })
            .then(data => {
                // GitHub API è¿”å›çš„æ˜¯æ•°ç»„ï¼Œå–ç¬¬ä¸€ä¸ªå³ä¸ºæœ€æ–° commit
                const latest = data[0];
                const sha = latest.sha.substring(0, 7); // æˆªå–å‰7ä½ Hash
                const date = latest.commit.committer.date; // è·å–æäº¤æ—¶é—´
                
                // æ›´æ–° DOM
                const infoDiv = document.getElementById('version-info');
                if (infoDiv) {
                    infoDiv.innerHTML = `
                        <span>Build: <a href="${latest.html_url}" target="_blank" style="color: inherit; text-decoration: none; border-bottom: 1px dashed #999;">${sha}</a></span>
                        <span style="margin: 0 8px;">|</span>
                        <span>Updated: ${formatDate(date)}</span>
                    `;
                }
            })
            .catch(error => {
                console.error('æ— æ³•è·å–ç‰ˆæœ¬ä¿¡æ¯:', error);
                const infoDiv = document.getElementById('version-info');
                if(infoDiv) infoDiv.style.display = 'none'; // è·å–å¤±è´¥åˆ™éšè—
            });
    })();
</script>
</head>
<body>

<div class="container">
    <h1><span>ğŸ“¦</span> OpenWrt 24.10 ä»“åº“</h1>
    <p>é€‚ç”¨äº <strong>Redmi AX6000</strong> (aarch64_cortex-a53)</p>

    <div class="repo-grid">
        <a href="view.html?repo=base" class="repo-card">Base</a>
        <a href="view.html?repo=luci" class="repo-card">LuCI</a>
        <a href="view.html?repo=packages" class="repo-card">Packages</a>
        <a href="view.html?repo=routing" class="repo-card">Routing</a>
        <a href="view.html?repo=telephony" class="repo-card">Telephony</a>
    </div>

    <h2>ğŸ› ï¸ å¿«é€Ÿé…ç½®</h2>
    <div class="note">
        æ³¨æ„ï¼šè¯·ç¡®ä¿ä½ çš„å›ºä»¶æ¶æ„ä¸º <code>aarch64_cortex-a53</code> ä¸”åŸºäº OpenWrt 24.10 æ„å»ºã€‚
    </div>

    <p>SSH è¿æ¥åˆ°è·¯ç”±å™¨ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¸€é”®æ›¿æ¢æºï¼š</p>
    
    <div class="code-block">
cp /etc/opkg/distfeeds.conf /etc/opkg/distfeeds.conf.bak<br>
<br>
cat &gt; /etc/opkg/distfeeds.conf &lt;&lt;EOF<br>
src/gz yaojiu_base https://opkg.yaojiu.org/base<br>
src/gz yaojiu_luci https://opkg.yaojiu.org/luci<br>
src/gz yaojiu_packages https://opkg.yaojiu.org/packages<br>
src/gz yaojiu_routing https://opkg.yaojiu.org/routing<br>
src/gz yaojiu_telephony https://opkg.yaojiu.org/telephony<br>
EOF<br>
<br>
opkg update
    </div>

    <footer>
    <div id="version-info" style="margin-bottom: 10px; font-family: monospace; font-size: 0.8em; color: #888;">
        <span>Ver: loading...</span> | <span>Date: loading...</span>
    </div>
    &copy; 2026 Yaojiu.org | Powered by GitHub Pages
</footer>
</div>

</body>
</html>